=title local
=timestamp 2020-09-23T19:00:01
=indexes local
=status show
=author szabgab
=archive 1
=description local to localize global variables when you cannot use my.
=comments_disqus_enable 0
=show_related 1

=abstract start

You rarely need to use <b>local</b> to localize global variables, but in some cases you cannot use <b>my</b> and then <b>local</b> is needed.

In other words: In almost every case when you want to create variable that is scoped to some block you should use <b>my</b>.

=abstract end

Let's see a few examples:

<h2>Slurp mode</h2>

<include file="examples/slurp.pl">

In the so-called <a href="/slurp">slurp mode</a> wer read the entire content of a file into a single scalar variable. In order to do that we need to set
the <b>$/</b> to be <b>undef</b>. We use <b>local</b> to limit the scope.

<h2>Change the LIST_SEPARATOR</h2>

In the rare case when you'd like to change the <a href="/list-separator">character that is inserted between array elements</a> in string interpolation,
you can change <a href="list-separator">$" the $LIST_SEPARATOR</a> variable.

<include file="examples/list_separator.pl">

<h2>Local on package variables</h2>

<include file="examples/local.pl">

<code>
x 1
y 1
x 2
y 2
x 2 in show_vars
y 1 in show_vars
x 1
y 1
</code>

The only difference is when you call a function from inside the block where you <b>local</b>-ized or <b>my</b>-ed the global variable.

In both cases the variable inside the block hides the variable outside the block, but when we call a function from that block
the behavior changes.
In the case of <b>my</b> the change is scoped to the enclosing block
In the case of <b>our</b> and <b>local</b> the changes is scoped to the enclosing block and to anything called from that block. We inherit the new value.

See also the <a href="https://metacpan.org/pod/perlfunc#local-EXPR">official documentation</a>.
