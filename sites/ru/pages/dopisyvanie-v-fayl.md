---
title: "Дописывание в файл"
timestamp: 2013-07-09T08:00:01
tags:
  - files
  - append
  - open
  - >>
published: true
original: appending-to-files
books:
  - beginner
author: szabgab
translator: spidamoo
---


В этой части [Учебника Perl](/perl-tutorial) мы узнаем, как <b>дописывать данные в файл
с помощью Perl</b>.

В предыдущей части мы научились [записывать в файлы](/zapis-v-fayl-na-perl).
Это удобно, когда мы создаем файл с нуля, но в некоторых случаях вам понадобится сохранять
исходный файл, дописывая новые строки в конец.

Наиболее очевидный случай - это запись в лог-файл.


Вызов

```perl
open(my $fh, '>', 'отчет.txt') or die ...
```

Открыв файл для записи (со знаком `>`), мы удалим все содержимое файла, которое могло в нем
быть.

Если мы хотим <b>дописать</b> данные в конец файла, нужно использовать <b>два знака "больше"</b>,
например:

```perl
open(my $fh, '>>', 'отчет.txt') or die ...
```

Вызов этой функции откроет файл для дописывания. То есть прежнее содержимое файла
останется в сохранности, а все, что мы будем записывать в него с помощью <h1>print</h1> или 
<h1>say</h1>, добавится в конец.

Вот полный пример:

```perl
use strict;
use warnings;
use 5.010;

my $filename = 'отчет.txt';
open(my $fh, '>>', $filename) or die "Не могу открыть файл '$filename' $!";
say $fh "Мой первый отчет, сгенерированный с помощью perl";
close $fh;
say 'готово';
```

Если запустить этот скрипт несколько раз, мы увидим, что файл растет.
Каждый запуск скрипта будет добавлять еще одну строку в файл.


